@page
@model ChangePasswordModel
@{
    ViewData["Title"] = "Change Password";
    ViewData["ActivePage"] = ManageNavPages.ChangePassword;
}

<div class="animate-fade-in">
    <partial name="_StatusMessage" for="StatusMessage" />

    <div class="bg-base-100 rounded-lg border border-base-300 p-8">
        <div class="mb-6">
            <h2 class="text-2xl font-bold text-base-content flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center">
                    <i class="fas fa-key text-lg text-primary"></i>
                </div>
                Change Password
            </h2>
        </div>
        <div>
            <form id="change-password-form" method="post">
                @if (!ViewData.ModelState.IsValid && ViewData.ModelState.ErrorCount > 0)
                {
                    <div asp-validation-summary="All" class="alert alert-error mb-4" role="alert"></div>
                }

                <div class="space-y-4">
                    <!-- Current Password -->
                    <div class="form-control">
                        <label class="label" asp-for="Input.OldPassword">
                            <span class="label-text font-semibold">Current Password</span>
                        </label>
                        <input asp-for="Input.OldPassword" class="input input-bordered" type="password" autocomplete="current-password" />
                        <label class="label">
                            <span asp-validation-for="Input.OldPassword" class="label-text-alt text-error"></span>
                        </label>
                    </div>

                    <!-- New Password -->
                    <div class="form-control">
                        <label class="label" asp-for="Input.NewPassword">
                            <span class="label-text font-semibold">New Password</span>
                        </label>
                        <input asp-for="Input.NewPassword" class="input input-bordered" type="password" autocomplete="new-password" />
                        <label class="label">
                            <span class="label-text-alt">Password must be at least 6 characters</span>
                        </label>
                        <label class="label">
                            <span asp-validation-for="Input.NewPassword" class="label-text-alt text-error"></span>
                        </label>
                    </div>

                    <!-- Confirm New Password -->
                    <div class="form-control">
                        <label class="label" asp-for="Input.ConfirmPassword">
                            <span class="label-text font-semibold">Confirm New Password</span>
                        </label>
                        <input asp-for="Input.ConfirmPassword" class="input input-bordered" type="password" autocomplete="new-password" />
                        <label class="label">
                            <span asp-validation-for="Input.ConfirmPassword" class="label-text-alt text-error"></span>
                        </label>
                    </div>
                </div>

                <!-- Actions -->
                <div class="flex justify-end mt-6">
                    <button type="submit" class="btn btn-primary btn-lg gap-2">
                        <i class="fas fa-key"></i>
                        Update Password
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
